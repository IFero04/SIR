name: Deploy

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v1

      - name: Debug SSH Key
        run: |
          echo "Username: ${{ secrets.USERNAME }}"
          echo "SSH Key: ${{ secrets.SSHKEY }}"

      - name: Copy repository contents via scp
        uses: appleboy/scp-action@master
        env:
          HOST: 62.171.158.182
          USERNAME: root
          PORT: 22
          KEY: |
            -----BEGIN OPENSSH PRIVATE KEY-----
            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
            ----END OPENSSH PRIVATE KEY-----
            
        with:
          source: "."
          target: "/var/www/mywebsite"

      - name: Executing remote command
        uses: appleboy/ssh-action@master
        with:
          HOST: 62.171.158.182
          USERNAME: root
          PORT: 22
          KEY: |
            -----BEGIN OPENSSH PRIVATE KEY-----
            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
            ----END OPENSSH PRIVATE KEY-----
          script: ls
